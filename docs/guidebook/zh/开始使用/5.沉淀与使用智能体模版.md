# 文档说明
在《构建典型的多智能体应用》中我们使用了3个智能体构建了一个典型的多智能体应用，在本章节我们将进一步将这种模式沉淀成智能体模版来方便后续的复用与共享。

样例地址：[demo_startup_app_with_agent_templates](../../../../examples/startup_app/demo_startup_app_with_agent_templates)

# todo pet智能体可以进一步抽象成PEE 3步，1，2，3 sop template；


# 封装智能体模版
在上面的多智能体应用中我们会发现，三个智能体在实现上有很多相同的逻辑，甚至策划智能体继承自改写智能体。为了提升智能体的复用性，我们可以抽象出一些通用的逻辑和方法，封装成一个智能体模版AgentTemplate。大部分智能体构建仅需基于这个模版做一些微小的调整，甚至只是yaml配置的改动。

参考 [pet_agent_template.py](../../../../examples/startup_app/demo_startup_app_with_agent_templates/intelligence/agentic/agent/agent_template/pet_agent_template.py)，这里将智能体会用到的包括注册agent，处理记忆/llm/工具/prompt以及执行主体的一些通用方法进行了一定的抽象，这些方法在宠物险的智能体中大部分都可以复用。以主智能体为例，只要overwrite方法customized_execute对主流程部分逻辑进行定制化即可。

![](../../_picture/demo_startup_petins_consult_pro_agent.png)

实际上AU框架提供了相当多的[智能体模版](../../../../agentuniverse/agent/template)，包括Rag，React，PEER模式等，建议使用这些现有的模版构建自己的智能体。


# todo 引导到PEER模式，进一步介绍PEER模式
# 使用PEER智能体模版
样例地址：[demo_startup_app_with_agent_templates](../../../../examples/sample_apps/peer_agent_app)

## 运行测试
您可以在[测试文件](../../../../examples/sample_apps/peer_agent_app/intelligence/test/peer_agent.py)中完整运行本案例。